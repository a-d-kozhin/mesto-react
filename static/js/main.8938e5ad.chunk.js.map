{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/App.js","serviceWorker.js","index.js","images/logo-2.svg","images/edit-avatar.svg"],"names":["Header","className","href","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","Provider","value","type","onClick","style","backgroundImage","link","name","length","Main","onEditAvatar","onAddPlace","onEditProfile","cards","user","editAvatar","avatar","about","map","cardElement","key","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","action","method","noValidate","EditProfilePopup","onUpdateUser","useState","setName","job","setJob","useEffect","e","preventDefault","onChange","target","placeholder","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","ref","AddPlacePopup","titleInput","linkInput","url","ImagePopup","api","headers","this","authorization","response","ok","json","Promise","reject","status","error","console","message","fetch","then","_handleResponse","catch","_handleError","obj","body","JSON","stringify","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","document","querySelector","classList","remove","all","getInfo","getInitialCards","userProfile","cardsArray","dislikeCard","newCard","newCards","c","likeCard","cardToDelete","removeCard","filter","editInfo","updatedUser","sendElement","changeAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.8938e5ad.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/logo-2.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"# \" className=\"link\">\n        <img src={logo} alt=\"Логотип проекта Mesto Russia\" className=\"logo logo_place_header\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (\n    `button element__remove-button ${isOwn ?\n      'element__remove-button_visible' :\n      'element__remove-button_hidden'}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = (\n    `button ${isLiked ?\n      'element__like-button element__like-button_active' :\n      'element__like-button'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n  \n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <li className=\"element\">\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\n        <div style={{ backgroundImage: `url(${card.link})` }} className=\"element__image\" alt={card.name} onClick={handleClick}></div>\n        <div className=\"element__wrapper_horizontal\">\n          <h2 className=\"element__title\">{`${card.name}`}</h2>\n          <div className=\"element__wrapper_vertical\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n            <p className=\"element__likes-count\">{`${card.likes.length}`}</p>\n          </div>\n        </div>\n      </li>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport editAvatar from '../images/edit-avatar.svg';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onAddPlace, onCardClick, onEditProfile, cards, onCardLike, onCardDelete }) {\n\n  const user = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n\n      <section className=\"profile\">\n\n        <div>\n          <button type=\"button\" className=\"profile__avatar-button\" onClick={onEditAvatar}>\n            <img className=\"profile__avatar-edit-icon\" src={editAvatar} alt=\"\" />\n            <div style={{ backgroundImage: `url(${user.avatar})` }} alt=\"Аватар профиля\" className=\"profile__avatar\"></div>\n          </button>\n        </div>\n\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{user.name}</h1>\n          <button type=\"button\" className=\"button profile__edit-button\" onClick={onEditProfile} />\n          <p className=\"profile__job\">{user.about}</p>\n        </div>\n        <button type=\"button\" className=\"button profile__add-button\" onClick={onAddPlace} />\n      </section>\n\n      <ul className=\"elements\">\n        {cards.map((cardElement) => (\n          <Card\n          card={cardElement}\n          onCardClick={onCardClick}\n          key={cardElement._id}\n          onCardLike={onCardLike}\n          onCardDelete={onCardDelete}></Card>\n        ))}\n      </ul>\n\n    </main>\n  )\n}\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020. Саша Кожин</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({ name, title, children, isOpen, onClose, onSubmit }) {\n  return (\n    <>\n      <section className={`popup popup-${name} ${isOpen ? 'popup_opened' : ''} `}>\n        <div className=\"popup__overlay popup-profile__overlay\" onClick={onClose}></div>\n        <form className={`popup__container popup__form popup__form_type_${name}`} name=\"edit-profile\" action=\"#\" method=\"post\"\n          noValidate onSubmit={onSubmit}>\n          <h3 className=\"popup__title\">{title}</h3>\n          {children}\n          <button type=\"button\" className=\"button popup__close-button popup-profile__close-button\" onClick={onClose} />\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName] = React.useState('');\n  const [job, setJob] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleJobChange(e) {\n    setJob(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({name, about: job});\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setJob(currentUser.about);\n  }, [isOpen, currentUser.name, currentUser.about]);\n\n  return (\n    <PopupWithForm\n      title='Редактировать профиль'\n      name='profile'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        onChange={handleNameChange}\n        value={name}\n        className=\"popup__input popup__input_type_name\"\n        type=\"text\" placeholder=\"Имя\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        id=\"name-input\" />\n      <span\n        id=\"name-input-error\"\n        className=\"popup__error\"\n      >Текст ошибки</span>\n      <input\n        onChange={handleJobChange}\n        value={job}\n        className=\"popup__input popup__input_type_job\"\n        type=\"text\"\n        placeholder=\"Профессия\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        id=\"job-input\" />\n      <span\n        id=\"job-input-error\"\n        className=\"popup__error\"\n      >Текст ошибки</span>\n      <button\n        type=\"submit\"\n        className=\"popup__submit-button popup-profile__submit-button\"\n      >Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  \n  const avatarInput = React.useRef(); \n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarInput.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title='Обновить аватар'\n      name='avatar'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={avatarInput}\n        className=\"popup__input popup__input_type_avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        id=\"avatar-input\"\n        name=\"avatar\"\n        required\n      />\n      <span\n        id=\"avatar-input-error\"\n        className=\"popup__error\"\n      >Текст ошибки</span>\n      <button\n        type=\"submit\"\n        className=\"popup__submit-button popup-avatar__submit_button\"\n      >Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\n  const titleInput = React.useRef();\n  const linkInput = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      title: titleInput.current.value,\n      url: linkInput.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title='Новое место'\n      name='element'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={titleInput}\n        className=\"popup__input popup__input_type_title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"title\"\n        required\n        id=\"title-input\"\n        minLength=\"2\"\n        maxLength=\"30\"\n      />\n      <span\n        id=\"title-input-error\"\n        className=\"popup__error\"\n      >Текст ошибки</span\n      >\n      <input\n        ref={linkInput}\n        className=\"popup__input popup__input_type_url\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        id=\"url-input\"\n        name=\"url\"\n        required\n      />\n      <span\n        id=\"url-input-error\"\n        className=\"popup__error\"\n      >Текст ошибки</span\n      >\n      <button\n        type=\"submit\"\n        className=\"popup__submit-button popup-element__submit_button\"\n      >Сохранить</button\n      >\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  let name = '';\n  let link = '';\n  if (card) {\n    name = card.name;\n    link = card.link;\n  }\n  return (\n    <section className={`popup popup-image ${(card) ? 'popup_opened' : ''} `}>\n      <div className=\"popup__overlay popup-image__overlay\" onClick={onClose}></div>\n      <div className=\"popup-image__wrapper\">\n        <div style={{ backgroundImage: `url(${link})` }} alt={name} className=\"popup-image__image\"></div>\n        <p className=\"popup-image__caption\">{name}</p>\n        <button type=\"button\" className=\"button popup__close-button popup-image__close-button\" onClick={onClose} />\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;","import { config } from \"../utils/utils.js\";\n// класс взаимодействия с сервером\n\nexport class Api {\n  constructor({ url, headers = {} }) {\n    this.url = url;\n    this.headers = headers;\n    this.authorization = headers.authorization;\n  }\n\n  // обработка ответа с сервера\n\n  _handleResponse(response) {\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(`Oops, response is not ok. Status: ${response.status}`);\n    }\n  }\n\n  // обработка ошибок\n  _handleError(error) {\n    console.error(`Oops, an error occured: ${error}`)\n    return Promise.reject(error.message)\n  }\n\n  // получить профиль с сервера\n  getInfo() {\n    return fetch(`${this.url}users/me`, { headers: this.headers })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // получить массив изначальных карточек\n  getInitialCards() {\n    return fetch(`${this.url}cards`, { headers: this.headers })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // отправить обновленный профиль юзера на сервер\n  editInfo(obj) {\n    return fetch(`${this.url}users/me`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: obj.name,\n          about: obj.about\n        })\n      })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // отправить карточку на сервер\n  sendElement(obj) {\n    return fetch(`${this.url}cards`,\n      {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: obj.title,\n          link: obj.url\n        })\n      })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // сменить аватарку на сервере\n  changeAvatar(obj) {\n    return fetch(`${this.url}users/me/avatar`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar: obj.avatar\n        })\n      })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // удалить карточку\n  removeCard(_id) {\n    return fetch(`${this.url}cards/${_id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // поставить лайк\n  likeCard(_id) {\n    return fetch(`${this.url}cards/likes/${_id}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n\n  // снять лайк\n  dislikeCard(_id) {\n    return fetch(`${this.url}cards/likes/${_id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(response => this._handleResponse(response))\n      .catch(this._handleError)\n  }\n}\n\n// создаем экземпляр Api\nexport const api = new Api(config);","export const config = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-13/',\n  headers: {\n    authorization: '9b4159b0-f593-4984-be9b-af6528533bd7',\n    'Content-Type': 'application/json'\n  }\n}","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js'\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\nimport { api } from '../utils/api.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '' });\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getInfo(), api.getInitialCards()])\n      .then(([userProfile, cardsArray]) => {\n        setCurrentUser(userProfile)\n        setCards(cardsArray)\n      })\n  }, [])\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(obj) {\n    api.editInfo(obj)\n      .then((updatedUser) => setCurrentUser(updatedUser))\n      .then(() => closeAllPopups())\n  }\n\n  function handleUpdateAvatar(obj) {\n    api.changeAvatar(obj)\n      .then((userProfile) => setCurrentUser(userProfile))\n      .then(() => closeAllPopups())\n  }\n\n  function handleCardDelete(cardToDelete) {\n    api.removeCard(cardToDelete._id)\n      .then(() => {\n        setCards(cards.filter((card) => cardToDelete._id !== card._id))\n      })\n  }\n\n  function handleAddPlace(obj) {\n    api.sendElement(obj)\n      .then((newCard) => setCards([...cards, newCard]))\n      .then(() => closeAllPopups())\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.likeCard(card._id)\n        .then(newCard => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n          setCards(newCards)\n        })\n    }\n    else {\n      api.dislikeCard(card._id)\n        .then(newCard => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n          setCards(newCards)\n        })\n    }\n  }\n\n  function closeAllPopups() {\n    if (document.querySelector('.popup_opened')) {\n      document.querySelector('.popup_opened').classList.remove('popup_opened');\n      setEditAvatarPopupOpen(false);\n      setEditProfilePopupOpen(false);\n      setAddPlacePopupOpen(false);\n      setSelectedCard(null);\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"project\">\n        <div className=\"page\">\n          <Header></Header>\n\n          <Main\n            onCardClick={handleCardClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          >\n          </Main>\n\n          <Footer></Footer>\n          \n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          >\n          </EditProfilePopup>\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          >\n          </AddPlacePopup>\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <PopupWithForm\n            title='Вы уверены?'\n            name='confirm'\n            onClose={closeAllPopups}\n          >\n            <button\n              type=\"button\"\n              className=\"popup__submit-button popup-confirm__button\"\n            >Да</button>\n          </PopupWithForm>\n\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n          >\n          </ImagePopup>\n\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo-2.e889e45f.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit-avatar.d476a8b8.svg\";"],"sourceRoot":""}